{"version":3,"sources":["home/home.controller.js"],"names":["angular","module","controller","$scope","$timeout","canvas","stage","brush","bmpList1","bitmap1","bmpList2","bitmap2","txt1","chevron","i","tweenDatShit","heroFontSize","diamondQuantity","w","Math","max","document","documentElement","clientWidth","window","innerWidth","h","clientHeight","innerHeight","content","$","ready","getElementById","getContext","createjs","Stage","enableMouseOver","width","height","css","image1","Image","src","category","onload","createBlocks","image2","Text","textAlign","x","y","Bitmap","Tween","get","loop","to","alpha","call","textChange","reset","Ease","bounceOut","skrollr","init","namesNStuff","text","length","toggleCache","value","l","getNumChildren","shape","getChildAt","cache","uncache","e","target","img1","addChild","name","addEventListener","random","backOut","speed","push","img2","j","Ticker","handleTick","resetBlock","block","l1","bmp1","l2","ii","bmp2","update","onresize","attr"],"mappings":"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","file":"home.controller.js","sourcesContent":["/* global angular, $, createjs, skrollr, document, window, Image */\nangular.module('app').controller('homeCtrl', function($scope, $timeout){\n  var canvas, stage,brush, bmpList1,bitmap1, bmpList2, bitmap2, txt1,chevron, i = 1, tweenDatShit;\n  var heroFontSize = '72px Poiret One';\n  var diamondQuantity = 40;\n\n  var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n  var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n  var content = $('#skrollr-body');\n  if(w > 700 && w < 1025){\n      diamondQuantity = 30;\n  }\n  if(w <= 700){\n      heroFontSize = '40px Poiret One';\n      diamondQuantity = 15;\n  }\n  $(document).ready(function(){\n\n    canvas = document.getElementById('banner');\n    brush = canvas.getContext('2d');\n\n    stage = new createjs.Stage(canvas);\n    stage.enableMouseOver(10);\n    canvas.width  = w;\n    canvas.height = h;\n    content.css('top', h+'px').css('padding-bottom', '-'+h+'px');\n\n    var image1 = new Image();\n    image1.src = '../../images/diamond1.png';\n    image1.category = 'small';\n    image1.onload = createBlocks;\n\n    var image2 = new Image();\n    image2.src = '../../images/block3.png';\n    image2.category = 'large';\n    image2.onload = createBlocks;\n\n    txt1 = new createjs.Text('Web Developer\\n\\n', heroFontSize, '#fff');\n    txt1.textAlign = 'center';\n    txt1.x = canvas.width/2;\n    txt1.y = canvas.height/2;\n\n    chevron = new createjs.Bitmap('../../images/chevron.png');\n    chevron.x = canvas.width/2 - 18;\n    chevron.y = canvas.height - 60;\n\n\n    createjs.Tween.get(txt1, {loop: true})\n        .to({ alpha: 0 }, 1500)\n        .call(textChange)\n        .to({ alpha: 1}, 1500);\n    tweenDatShit = function (reset) {\n        // if(reset){\n        //     createjs.Tween.removeTweens(chevron)\n        // }\n        createjs.Tween.get(chevron, {loop: true})\n            .to({ y: canvas.height - 60 }, 900)\n            .to({ y: canvas.height - 40 }, 900, createjs.Ease.bounceOut)\n            .to({ y: canvas.height - 60 }, 900);\n    };\n\n    tweenDatShit();\n\n    if(w > 700){\n\n        $timeout(function(){\n            skrollr.init();\n        }, 1000);\n    }\n\n\n  });\n\n  function textChange(){\n      var namesNStuff = [\n        'Web Developer',\n        'Angular',\n        'Sass',\n        'Movie Enthusiest',\n        'Rocket League',\n        'Husband',\n        'Brazil Traveler',\n        'Metal Gear Solid Fan',\n        'Father',\n        'Audio Book Listener'\n    ];\n    txt1.text = namesNStuff[i];\n    i++;\n    if(i == namesNStuff.length){\n      i = 0;\n    }\n  }\n\n  function toggleCache(value) {\n    // iterate all the children except the fpsLabel, and set up the cache:\n    var l = stage.getNumChildren() - 1;\n\n    for (var i = 0; i < l; i++) {\n      var shape = stage.getChildAt(i);\n      if (value) {\n        shape.cache(0, 0, canvas.width/2, canvas.height/2);\n      } else {\n        shape.uncache();\n      }\n    }\n  }\n\n  function createBlocks(e){\n    if (e.target.category == 'small') {\n      var img1 = e.target;\n\n      bmpList1 = [];\n\n      for (var i = 0; i < diamondQuantity; i++) {\n        bitmap1 = new createjs.Bitmap(img1);\n        stage.addChild(bitmap1);\n        bitmap1.name = 'block' + i;\n        bitmap1.addEventListener(\"mouseover\", function(e) {\n          createjs.Tween.get(e.target).to({x:Math.random()*canvas.width, y:Math.random()*canvas.height}, 550, createjs.Ease.backOut);\n        });\n        bitmap1.x = Math.random()*canvas.width;\n        bitmap1.y = Math.random()*canvas.height;\n        bitmap1.speed = (Math.random()*2+1);\n\n\n        bmpList1.push(bitmap1);\n      }\n\n    } else {\n      var img2 = e.target;\n      bmpList2 = [];\n\n      for (var j = 0; j < diamondQuantity; j++) {\n        bitmap2 = new createjs.Bitmap(img2);\n        stage.addChild(bitmap2);\n        bitmap2.name = 'block2' + j;\n        bitmap2.addEventListener(\"mouseover\", function(e) {\n          createjs.Tween.get(e.target).to({x:Math.random()*canvas.width, y:Math.random()*canvas.height}, 550, createjs.Ease.backOut);\n        });\n        bitmap2.x = Math.random()*canvas.width;\n        bitmap2.y = Math.random()*canvas.height;\n        bitmap2.speed = (Math.random()*2+1);\n        bmpList2.push(bitmap2);\n      }\n    }\n    toggleCache(true);\n    createjs.Ticker.addEventListener('tick', handleTick);\n  }\n\n\n  function resetBlock(block){\n    block.x = Math.random()*canvas.width;\n    block.y = canvas.height;\n    block.speed = (Math.random()*2+1);\n  }\n  function handleTick(){\n      var l1 = bmpList1.length;\n      for (var i = 0; i < l1; i++) {\n        var bmp1 = bmpList1[i];\n        if (bmp1.y > -101){\n          bmp1.y -= bmp1.speed;\n          bmp1.x -= 0.5;\n        }else {\n          resetBlock(bmp1);\n        }\n      }\n\n    var l2 = bmpList2.length;\n    for (var ii = 0; ii < l2; ii++) {\n      var bmp2 = bmpList2[ii];\n      if (bmp2.y > -150){\n        bmp2.y -= bmp2.speed;\n        bmp2.x += 0.5;\n      }else {\n        resetBlock(bmp2);\n      }\n    }\n    stage.addChild(txt1);\n    stage.addChild(chevron);\n    stage.update();\n  }\n\n  window.onresize = function(){\n\n    w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n    canvas.width  =  w;\n    canvas.height = h;\n    content.attr('style','margin-top:'+h+'px');\n    if(w > 700){\n        skrollr.init();\n    }\n\n    txt1.x = canvas.width/2;\n    txt1.y = canvas.height/3;\n\n    chevron.x = canvas.width/2 - 18;\n    chevron.y = canvas.height - 60;\n    tweenDatShit(true);\n\n};\n\n\n\n\n});\n"]}